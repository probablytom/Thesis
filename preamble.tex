\title{Plausibly Realistic Sociotechnical Simulation with Aspect Orientation}
% Alternative titles:
%   Exploring the efficacy of aspect orientation in sociotechnical simulation
%   The use of runtime aspect weaving in simulation
\author{Tom Wallis}
\date{Forthcoming 2021}
\degree{Doctor of Philosophy}

% I heard you like ~~~CITATIONS~~~
\usepackage[
  backend=biber,
  bibencoding=utf8,
  style=ieee %% draft probably wants changing...
]{biblatex}
\addbibresource{refs.bib}


% Packages I for sure need
% \usepackage{amsmath}
% \usepackage{listings}
\usepackage{float}
\usepackage{graphicx}
\usepackage{titletoc}
\usepackage{enumitem}
\usepackage{csquotes}

% Fonts
\usepackage{fontspec}
\setmainfont{Valkyrie A}
\setsansfont{Concourse 4}
\setmonofont{Triplicate A Code}
\newfontfamily{\advocate}{Advocate55WideMed}
\newfontfamily{\concourse}{Concourse 4}
\newfontfamily{\concourseindex}{Concourse Index}

\usepackage{sectsty}
\allsectionsfont{\concourse}

% Listings config
\lstset{language=Python,
frame=L,
numbers=left,
stepnumber=1,
numberstyle=\footnotesize,
float,
floatplacement=H,
basicstyle=\normalsize\ttfamily}

% For inline todos...nicked from https://tex.stackexchange.com/a/219354
\makeatletter
\usepackage{regexpatch}
\xpatchcmd{\@todo}{\setkeys{todonotes}{#1}}{\setkeys{todonotes}{inline,#1}}{}{}
\makeatother

% List formatting changes
\setitemize[1]{label={\concourseindex\normalsize\symbol{"2022}}}
\setitemize[2]{label={\concourseindex\small\symbol{"2022}}}
\setitemize[3]{label={\concourseindex\footnotesize\symbol{"2022}}}
\setitemize[4]{label={\concourseindex\scriptsize\symbol{"2022}}}
\setitemize[5]{label={\concourseindex\scriptsize\symbol{"2022}}} % Technically could be \tiny
\setenumerate[1]{font={\concourseindex\normalsize},label=\arabic*}
\setenumerate[2]{font={\concourseindex\small},label=\arabic*}
\setenumerate[3]{font={\concourseindex\footnotesize},label=\arabic*}
\setenumerate[4]{font={\concourseindex\scriptsize},label=\arabic*}
\setenumerate[5]{font={\concourseindex\scriptsize},label=\arabic*} % Technically could be \tiny

% Some quote styling changes, modified from https://tex.stackexchange.com/a/468294
\usepackage[%
linewidth=1pt,
middlelinecolor= black,
middlelinewidth=0.4pt,
roundcorner=10pt,
topline = false,
rightline = false,
bottomline = false,
rightmargin=0pt,
skipabove=0pt,
skipbelow=0pt,
leftmargin=-1cm,
innerleftmargin=1cm,
innerrightmargin=0pt,
innertopmargin=0pt,
innerbottommargin=0pt,
]{mdframed}
\makeatletter
%Take the original environment definition and change the leftmargin to 1cm
\renewenvironment*{displayquote}
  {\begingroup\setlength{\leftmargini}{1cm}\csq@getcargs{\csq@bdquote{}{}}}
  {\csq@edquote\endgroup}
\makeatother
%Hooks
%Use single spacing, set 10pt font, set quote style curly quotes, and beginning quotes
\renewcommand{\mkbegdispquote}
    {\begin{mdframed}\fontsize{12pt}{12pt}\setstretch{1.25}\setquotestyle{quote}\textooquote}
%End displayquote environment with ending quotes
\renewcommand{\mkenddispquote}{\textcoquote\end{mdframed}}


% Macros
\newcommand{\inline}[1]{{\color{red}{#1}} \addcontentsline{tdo}{todo}{#1}}

